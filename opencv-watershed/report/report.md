# 实验报告

## 封面

- 学校和学院LOGO
- 报告标题
- 院系
- 专业和班级
- 学号
- 姓名
- 指导老师
- 提交时间

人工智能与自动化学员
U202315148
王迪

## 目录

1. [问题描述](#问题描述)
2. [算法设计](#算法设计)
3. [测试分析](#测试分析)
4. [总结展望](#总结展望)
5. [附录](#附录)

## 问题描述

### 实验任务

详细描述需要完成的任务。

输入：任意一张M*N的彩色图片

OpenCV库
纯C语言或者C/C++语言

### 任务一 均匀随机采样

使用基于种子标记的分水岭算法（OpenCV自带watershed）对输入图像进行过分割
用户输入图像和整数K，要求程序自动计算K个随机种子点，确保各种子点之间的距离均 > (M*N/K)0.5（参考泊松圆盘采样+贪心策略）
然后让程序在原图中标出各种子点的位置及编号，并采用半透明+随机着色的方式给出分水岭算法的可视化结果

### 任务二 四原图着色

使用邻接表统计分水岭结果中各区域的邻接关系
并采用四原色法（合理选择初始着色区域，并基于图的广度优先遍历，采用队列对其他待着色区域进行着色顺利梳理，加速全图着色过程）
对分水岭结果重新着色（使用堆栈+回溯策略，优化回退率）

### 任务三 排序查找+哈夫曼

根据分水岭结果中各区域面积大小的“堆排序”结果，提示最大和最小面积，
用户输入查找范围（面积下界和上界），使用折半查找，程序对所有符合要求的分水岭结果（标记区域面积）进行突出显示
并以这些高亮区域的面积大小作为权值，进行哈夫曼编码（考虑深度+递归策略），绘制该哈夫曼树

### 规范要求

实验的指导方针和约束条件。

- 学习使用STL标准模板库和OpenCV基本数据格式
- 少用静态数组，多用指针和动态内存分配/释放
- 对源码中文件、函数进行合理划分，保证模块独立性
- 函数、变量、常量等命名规范（去汉语拼音）
- 文件、函数宏观注释，核心变量、程序段微观注释
- 对输入进行合法性校验和功能、容错提示
- 尽量优化算法，确保稳定性及低时空复杂度
- 设计和优化Demo的交互逻辑及可视化UI

### 编程环境

开发所使用的工具和平台。

opencv 4.12.0-dev
vscode 1.97.2

```
OS: Kubuntu 24.04.2 LTS x86_64 
Host: 21LE ThinkBook 16 G6+ IMH 
Kernel: 6.11.0-17-generic 
DE: Plasma 5.27.12 
CPU: Intel Ultra 9 185H (22) @ 4.800GHz 
GPU: NVIDIA GeForce RTX 4060 Max-Q / Mobile 
GPU: Intel Arc Graphics
```

### 测试数据

用于测试算法的数据集。

### 评价指标

评估算法性能的标准。

对于600*600左右分辨率的图片，在基本任务（数据结构和算法）和功能（提示、交互逻辑及可视化UI）都能实现的前提下，给出如下分类评价，介于其间较远者，给出对应的“+”或“-”评价结论；如果基本要求都没有实现或者实现不够完整，该任务不予验收：

任务1：均匀随机采样 

A  K=1000时，产生的随机点数大于1000，程序用时1s以内

B  K=500时，产生的随机点数大于500，程序用时0.5s以内

C  K=100时，产生的随机点数大于100，程序用时0.2s以内

任务2：四原图着色

A  K=1000时，失败率低于40%，程序用时4s以内

B  K=500时，失败率低于20%，程序用时2s以内

C  K=100时，失败率低于10%，程序用时0.5s以内

任务3：排序查找+哈夫曼

A  K=1000时，用时1s以内，完成折半查找和递归哈夫曼编码，可视化符合要求，其中哈夫曼树的绘制，满足深度右倾、横向分布均匀、编码标记清晰

B  K=500时，用时0.5s以内，完成折半查找和递归哈夫曼编码，可视化、容错处理、相关信息提示效果尚可

C  K=100时，用时0.1s以内，完成折半查找和递归哈夫曼编码，可视化、容错处理、相关信息提示效果不够清晰美观

## 算法设计

### 破题原理分析

解释基本原理和理论。

### 整体架构设计

系统架构的高层设计。

### 算法逻辑设计

详细的算法逻辑设计。

$\min d <= \sqrt{M*N/k}$

$grid: len = \sqrt{M*N/k}$

$len * len * k = M*N$

deterministic, ok
random? needs optimization

$hexagonal grid: len = \sqrt{M*N/k}$


### 数据结构设计

算法中使用的数据结构设计。

### 创新思路总结

实现的创新方法或思路总结。

## 测试分析

### 常规测试

标准测试的结果和分析。

### 合法性测试

输入合法性验证和错误处理。

### 极限性能测试

极端条件下的性能分析。

### 横向对比测试

与其他算法或方法的比较。

### 测试结果分析

测试结果的详细分析。

## 总结展望

### 实验收获和问题总结

学到的知识和遇到的问题总结。

### 待优化方向和思路

对未来改进和优化的建议。

## 参考文献

报告中使用的参考文献列表。

## 附录

核心源码+注释
关键部分的源码及详细注释。
